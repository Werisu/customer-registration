"use strict";(self.webpackChunkcustomer_registration=self.webpackChunkcustomer_registration||[]).push([[592],{9293:(y,f,a)=>{a.d(f,{y:()=>F});var t=a(9212),l=a(6814),e=a(4486),p=a(5145),r=a(95),o=a(9397),g=a(2181),h=a(7398),n=a(4664),A=a(1163);function Z(i,v){1&i&&(t.TgZ(0,"small",22),t._uU(1," Dados na\u0303o persistidos "),t.qZA())}function m(i,v){1&i&&(t.TgZ(0,"small",24),t._uU(1,"Dados persistidos"),t.qZA())}function u(i,v){if(1&i&&(t.ynx(0),t.YNc(1,m,2,0,"small",23),t.BQk()),2&i){const s=t.oxw();t.xp6(1),t.Q6J("ngIf",s.isSaveLocalStorage)}}function q(i,v){1&i&&(t.ynx(0),t.TgZ(1,"div",8)(2,"label",25),t._uU(3,"Logradouro:"),t.qZA(),t._UZ(4,"input",26),t.qZA(),t.TgZ(5,"div",8)(6,"label",27),t._uU(7,"Estado:"),t.qZA(),t._UZ(8,"input",28),t.qZA(),t.TgZ(9,"div",8)(10,"label",29),t._uU(11,"Cidade:"),t.qZA(),t._UZ(12,"input",30),t.qZA(),t.BQk()),2&i&&(t.xp6(1),t.Q6J("@fadeAnimation",void 0),t.xp6(4),t.Q6J("@fadeAnimation",void 0),t.xp6(4),t.Q6J("@fadeAnimation",void 0))}let F=(()=>{class i{constructor(s,d){this.formBuilder=s,this.zipCodeService=d,this.activeModal=(0,t.f3M)(e.Kz),this.isSaveLocalStorage=!1}ngOnInit(){this.cadastroForm=this.formBuilder.group({name:["",r.kI.required],cpf:["",r.kI.required],email:["",[r.kI.required,r.kI.email]],phone:[""],zipCode:["",r.kI.required],state:["",r.kI.required],city:["",r.kI.required],street:["",r.kI.required]}),this.searchZipCode(),this.subscribeLocalStorage$=this.cadastroForm.valueChanges.pipe((0,o.b)(s=>{this.saveLocalStorage(s),this.isSaveLocalStorage=!0})),this.customer&&this.fillOutForm()}fillOutForm(){this.cadastroForm.controls.name.setValue(this.customer.name),this.cadastroForm.controls.cpf.setValue(this.customer.cpf),this.cadastroForm.controls.email.setValue(this.customer.email),this.cadastroForm.controls.phone.setValue(this.customer.phone),this.cadastroForm.controls.zipCode.setValue(this.customer.zipCode),this.cadastroForm.controls.state.setValue(this.customer.state),this.cadastroForm.controls.city.setValue(this.customer.city),this.cadastroForm.controls.street.setValue(this.customer.street)}saveLocalStorage(s){localStorage.setItem("customer",JSON.stringify(s))}searchZipCode(){this.zipCodeData$=this.cadastroForm.controls.zipCode.valueChanges.pipe((0,g.h)(s=>s.length>=8),(0,h.U)(s=>s.replace("-","")),(0,n.w)(s=>this.zipCodeService.getZipCode(s)),(0,o.b)(s=>{this.cadastroForm.controls.state.setValue(s.uf),this.cadastroForm.controls.city.setValue(s.localidade),this.cadastroForm.controls.street.setValue(s.logradouro)}))}submitForm(){this.cadastroForm.valid&&this.activeModal.close(this.cadastroForm.value)}static#t=this.\u0275fac=function(d){return new(d||i)(t.Y36(r.qu),t.Y36(p.JB))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["customer-registration-register"]],inputs:{customer:"customer"},standalone:!0,features:[t.jDz],decls:39,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"container"],["class","text-danger",4,"ngIf"],[4,"ngIf"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-md-6"],["for","name"],["type","text","id","name","formControlName","name","required","",1,"form-control"],["for","cpf"],["type","text","id","cpf","formControlName","cpf","required","",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","phone"],["type","tel","id","phone","formControlName","phone",1,"form-control"],["for","zipCode"],["type","text","id","zipCode","customerRegistrationCepMask","","formControlName","zipCode","required","",1,"form-control"],[1,"actions","d-flex","gap-2","mt-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"text-danger"],["class","text-success",4,"ngIf"],[1,"text-success"],["for","street"],["type","text","id","street","formControlName","street","required","",1,"form-control"],["for","state"],["type","text","id","state","formControlName","state","required","",1,"form-control"],["for","city"],["type","text","id","city","formControlName","city","required","",1,"form-control"]],template:function(d,c){1&d&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Registro de cliente"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return c.activeModal.dismiss("Cross click")}),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"h2"),t._uU(7,"Formul\xe1rio de Cadastro"),t.qZA(),t.YNc(8,Z,2,0,"small",5)(9,u,2,1,"ng-container",6),t.ALo(10,"async"),t.TgZ(11,"form",7),t.NdJ("ngSubmit",function(){return c.submitForm()}),t.TgZ(12,"div",8)(13,"label",9),t._uU(14,"Nome completo:"),t.qZA(),t._UZ(15,"input",10),t.qZA(),t.TgZ(16,"div",8)(17,"label",11),t._uU(18,"CPF"),t.qZA(),t._UZ(19,"input",12),t.qZA(),t.TgZ(20,"div",8)(21,"label",13),t._uU(22,"Email:"),t.qZA(),t._UZ(23,"input",14),t.qZA(),t.TgZ(24,"div",8)(25,"label",15),t._uU(26,"N\xfamero de telefone:"),t.qZA(),t._UZ(27,"input",16),t.qZA(),t.TgZ(28,"div",8)(29,"label",17),t._uU(30,"C\xf3digo Postal"),t.qZA(),t._UZ(31,"input",18),t.qZA(),t.YNc(32,q,13,3,"ng-container",6),t.ALo(33,"async"),t.TgZ(34,"div",19)(35,"button",20),t._uU(36," Enviar "),t.qZA(),t.TgZ(37,"button",21),t.NdJ("click",function(){return c.activeModal.close("Close click")}),t._uU(38," Fechar "),t.qZA()()()()()),2&d&&(t.xp6(8),t.Q6J("ngIf",!c.isSaveLocalStorage),t.xp6(1),t.Q6J("ngIf",t.lcZ(10,5,c.subscribeLocalStorage$)),t.xp6(2),t.Q6J("formGroup",c.cadastroForm),t.xp6(21),t.Q6J("ngIf",t.lcZ(33,7,c.zipCodeData$)),t.xp6(3),t.Q6J("disabled",!c.cadastroForm.valid))},dependencies:[l.ez,l.O5,l.Ov,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,p.FM],data:{animation:[A.qy]}})}return i})()},1163:(y,f,a)=>{a.d(f,{sP:()=>r,qy:()=>g,yx:()=>h});var t=a(6814),l=a(1076),e=a(9212);const p=n=>["/customer",n];let r=(()=>{class n{static#t=this.\u0275fac=function(m){return new(m||n)};static#e=this.\u0275cmp=e.Xpm({type:n,selectors:[["customer-registration-customer-card"]],inputs:{customer:"customer"},standalone:!0,features:[e.jDz],decls:9,vars:8,consts:[["role","button",1,"card",3,"routerLink"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-muted"]],template:function(m,u){1&m&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._uU(5),e.qZA(),e.TgZ(6,"small",4),e._uU(7),e.ALo(8,"date"),e.qZA()()()),2&m&&(e.Q6J("routerLink",e.VKq(6,p,u.customer.id)),e.xp6(3),e.Oqu(u.customer.name),e.xp6(2),e.Oqu(u.customer.email),e.xp6(2),e.hij("data de cadastro: ",e.lcZ(8,4,u.customer.createdAt),""))},dependencies:[t.ez,t.uU,l.Bz,l.rH]})}return n})();var o=a(6825);const g=(0,o.X$)("fadeAnimation",[(0,o.eR)(":enter",[(0,o.oB)({opacity:0}),(0,o.jt)("300ms",(0,o.oB)({opacity:1}))]),(0,o.eR)(":leave",[(0,o.jt)("300ms",(0,o.oB)({opacity:0}))])]),h=(0,o.X$)("listState",[(0,o.eR)("* => *",[(0,o.IO)(":enter",[(0,o.oB)({opacity:0,transform:"translateX(-100%)"}),(0,o.EY)(50,[(0,o.jt)("300ms ease-out",(0,o.F4)([(0,o.oB)({opacity:1,transform:"translateX(15%)",offset:.4}),(0,o.oB)({opacity:1,transform:"translateX(0)",offset:1})]))])],{optional:!0})])])}}]);